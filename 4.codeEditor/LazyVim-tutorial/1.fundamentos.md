# Configuracion de nvim

## Que es lazyvim
Te explico todo paso a paso sobre **LazyVim**, que es uno de los frameworks más populares para **Neovim** actualmente, especialmente si quieres una configuración moderna, optimizada y modular.

---

## 1️⃣ ¿Qué es LazyVim?

**LazyVim** es un **framework de configuración para Neovim**, que viene preconfigurado para que tengas un entorno moderno de desarrollo con:

* **Plugins listos para usar**, organizados de forma modular.
* **Carga de plugins bajo demanda (lazy-loading)**, lo que hace que Neovim inicie más rápido.
* Buenas **prácticas de configuración**, sin tener que escribir todo desde cero.

En pocas palabras: es como un **esqueleto optimizado de Neovim** que puedes extender según tus necesidades.

---

## 2️⃣ ¿Por qué usar LazyVim?

* **Ahorro de tiempo**: No necesitas instalar y configurar cada plugin manualmente.
* **Optimización de rendimiento**: LazyVim usa `lazy.nvim` para cargar plugins solo cuando son necesarios.
* **Modularidad**: Puedes desactivar o reemplazar cualquier plugin sin afectar el resto.
* **Compatibilidad moderna**: Todo está pensado para usar las últimas funciones de Neovim.
* **Comunidad**: Hay documentación y ejemplos muy buenos para aprender y extenderlo.

---

## 3️⃣ Estructura de archivos de LazyVim

La estructura típica de un setup de LazyVim es algo así:

```
~/.config/nvim/
├── lua/
│   ├── config/        <-- tu configuración personal (opcional)
│   ├── plugins/       <-- plugins específicos que quieras agregar
│   └── lazyvim/       <-- configuración base de LazyVim
├── init.lua           <-- archivo principal que carga LazyVim
└── plugin/            <-- configuración general de plugins, a veces usada
```

* `init.lua` → punto de entrada principal, normalmente solo carga `lazy.nvim` y LazyVim.
* `lua/lazyvim/` → archivos base del framework, no los modificas directamente, sino que los sobreescribes si quieres.
* `lua/plugins/` → aquí agregas tus plugins adicionales o personalizaciones.
* `lua/config/` → tu configuración personal: keymaps, temas, ajustes específicos de plugins.

---

## 4️⃣ Cómo funcionan los plugins en LazyVim

LazyVim usa **lazy-loading** mediante el plugin `lazy.nvim`. La idea:

* Cada plugin se declara con una configuración mínima.
* Se puede cargar **automáticamente** al abrir cierto tipo de archivo, ejecutar un comando o presionar una tecla.
* Esto mejora el tiempo de arranque de Neovim, porque **no todos los plugins se cargan al inicio**.

Ejemplo simple de un plugin en LazyVim:

```lua
-- archivo: lua/plugins/myplugins.lua
return {
  {
    "nvim-treesitter/nvim-treesitter",
    run = ":TSUpdate",        -- comando a ejecutar al instalar
    event = "BufRead",        -- carga solo al abrir un archivo
    config = function()
      require("nvim-treesitter.configs").setup {
        highlight = { enable = true },
      }
    end,
  },
}
```

✅ Aquí ves:

* **Plugin**: `nvim-treesitter/nvim-treesitter`.
* **Lazy load**: `event = "BufRead"`.
* **Configuración**: se ejecuta solo cuando se carga el plugin.

---

Si quieres, puedo hacerte un **temario completo de todo lo que debes aprender para dominar LazyVim**, desde instalación, configuración de plugins, keymaps, temas, hasta personalización profunda de Neovim con Lua, todo organizado por niveles. Esto te permitiría aprender paso a paso y personalizar tu editor completamente.

¿Quieres que haga eso?






Exacto, eso resume dos de los pilares principales de LazyVim:

---

### 1️⃣ **Plugins gestionados automáticamente**

* LazyVim usa **`lazy.nvim`** como gestor de plugins.
* No necesitas instalar manualmente ni actualizar los plugins uno por uno.
* Puedes **agregar, eliminar o actualizar** plugins simplemente editando tu archivo de configuración Lua.
* El gestor se encarga de:

  * Descargar el plugin.
  * Instalar dependencias.
  * Ejecutar comandos post-instalación si es necesario.

---

### 2️⃣ **Configuración modular y lazy-loading**

* **Modular**: cada plugin tiene su propio archivo de configuración opcional, por ejemplo:

  ```
  lua/plugins/treesitter.lua
  lua/plugins/lualine.lua
  ```

  Esto hace que tu configuración sea ordenada y fácil de mantener.
* **Lazy-loading**: los plugins **no se cargan todos al inicio**. Solo se cargan:

  * Cuando abres un archivo de cierto tipo (`FileType`).
  * Cuando ejecutas un comando específico.
  * Cuando presionas un atajo de teclado definido para ese plugin.
* Esto **reduce el tiempo de arranque** de Neovim, haciéndolo más rápido y ligero.

---

Si quieres, puedo dibujarte un **diagrama visual de cómo LazyVim gestiona los plugins y la carga modular**, para que lo veas de un solo vistazo. Esto ayuda mucho a entender la arquitectura.

¿Quieres que haga ese diagrama?




Perfecto, vamos a organizar todo esto paso a paso para que tengas claro **cómo se estructura y configura Neovim con Lua**, y cómo se integra con LazyVim.

---

## 1️⃣ Configuración básica con Lua

En Neovim moderno, la configuración puede hacerse usando **`init.lua`** en lugar de `init.vim`. Esto permite usar todo el poder de **Lua**, que es más rápido y flexible que Vimscript.

**Ejemplo mínimo de `init.lua`:**

```lua
-- Activar opciones básicas
vim.opt.number = true        -- mostrar números de línea
vim.opt.relativenumber = true
vim.opt.expandtab = true     -- usar espacios en lugar de tab
vim.opt.shiftwidth = 4       -- ancho de indentación
vim.opt.tabstop = 4
vim.opt.clipboard = "unnamedplus" -- usar portapapeles del sistema

-- Keymaps simples
vim.keymap.set("n", "<leader>w", ":w<CR>", { noremap = true, silent = true })

-- Cargar plugins (ejemplo con lazy.nvim)
require("plugins")
```

---

## 2️⃣ Diferencias entre `init.vim` y `init.lua`

| Característica | `init.vim` (Vimscript)    | `init.lua` (Lua)                                       |
| -------------- | ------------------------- | ------------------------------------------------------ |
| Lenguaje       | Vimscript                 | Lua (más rápido y potente)                             |
| Sintaxis       | Propia de Vim             | Sintaxis estándar Lua                                  |
| Plugins        | `vim-plug`, `packer.nvim` | `lazy.nvim`, `packer.nvim`                             |
| Flexibilidad   | Limitada                  | Muy alta, puedes definir funciones, variables, módulos |
| Rendimiento    | Menor                     | Mayor (especialmente con lazy-loading)                 |

---

## 3️⃣ Cómo organizar configuraciones en `lua/`

Se recomienda modularizar todo para no tener un archivo enorme. Ejemplo de estructura:

```
~/.config/nvim/
├── init.lua          -- punto de entrada
└── lua/
    ├── options.lua   -- ajustes de Neovim
    ├── keymaps.lua   -- remapeos
    └── plugins.lua   -- plugins adicionales y configuración
```

### a) `options.lua`

Ajustes generales de Neovim:

```lua
-- lua/options.lua
vim.opt.number = true
vim.opt.relativenumber = true
vim.opt.expandtab = true
vim.opt.shiftwidth = 4
vim.opt.tabstop = 4
vim.opt.clipboard = "unnamedplus"
vim.opt.cursorline = true
vim.opt.wrap = false
```

### b) `keymaps.lua`

Remapeo de teclas:

```lua
-- lua/keymaps.lua
local map = vim.keymap.set
map("n", "<leader>w", ":w<CR>", { noremap = true, silent = true })
map("n", "<leader>q", ":q<CR>", { noremap = true, silent = true })
map("n", "<leader>t", ":tabnew<CR>", { noremap = true, silent = true })
```

### c) `plugins.lua`

Declarar plugins adicionales (además de los que trae LazyVim):

```lua
-- lua/plugins.lua
return {
  {
    "nvim-treesitter/nvim-treesitter",
    run = ":TSUpdate",
    event = "BufRead",
    config = function()
      require("nvim-treesitter.configs").setup({
        highlight = { enable = true },
        indent = { enable = true },
      })
    end,
  },
  {
    "nvim-lualine/lualine.nvim",
    event = "VeryLazy",
    config = function()
      require("lualine").setup()
    end,
  },
}
```

---

## 4️⃣ Variables y funciones básicas en Lua aplicadas a Neovim

* **Variables**

```lua
local leader = " "  -- define tu "leader key"
vim.g.mapleader = leader
```

* **Funciones**

```lua
function save_and_quit()
  vim.cmd("wq")
end

vim.keymap.set("n", "<leader>x", save_and_quit, { noremap = true, silent = true })
```

* **Ejecutar comandos de Neovim**

```lua
vim.cmd("colorscheme gruvbox")  -- cambiar tema
```

---

Si quieres, puedo hacer un **diagrama completo de cómo init.lua carga todas estas configuraciones, plugins y keymaps** para que veas cómo se conecta todo en LazyVim. Esto hace que entender la modularidad sea mucho más visual.

¿Quieres que haga ese diagrama?

Perfecto, vamos a ver **cómo se maneja la sintaxis para declarar y configurar plugins en Lua**, especialmente con **LazyVim / lazy.nvim**, que es la forma moderna de hacerlo en Neovim.

---

## 1️⃣ Forma básica de declarar un plugin

En Lua, un plugin se declara dentro de un **table** (tabla) y se retorna desde un archivo de plugins, por ejemplo `lua/plugins.lua`:

```lua
return {
  {
    "autor/nombre-del-plugin",  -- repositorio de GitHub
  }
}
```

Esto es lo mínimo que necesitas: LazyVim / lazy.nvim se encarga de instalarlo automáticamente.

---

## 2️⃣ Agregar configuración al cargar el plugin

```lua
return {
  {
    "nvim-treesitter/nvim-treesitter",
    config = function()
      require("nvim-treesitter.configs").setup({
        highlight = { enable = true },
        indent = { enable = true },
      })
    end
  }
}
```

✅ Aquí:

* `"nvim-treesitter/nvim-treesitter"` → repositorio.
* `config = function() ... end` → código que se ejecuta **después de que se carga el plugin**.
* Permite inicializar o personalizar el plugin sin tocar archivos internos.

---

## 3️⃣ Lazy-loading (carga bajo demanda)

LazyVim permite cargar plugins **solo cuando se necesitan** para mejorar el rendimiento:

```lua
return {
  {
    "nvim-treesitter/nvim-treesitter",
    event = "BufRead",  -- se carga al abrir un archivo
    config = function()
      require("nvim-treesitter.configs").setup({ highlight = { enable = true } })
    end
  },
  {
    "nvim-lualine/lualine.nvim",
    cmd = "LualineToggle",  -- se carga al ejecutar este comando
    config = function()
      require("lualine").setup()
    end
  }
}
```

Opciones de lazy-loading:

| Opción  | Qué hace                                                            |
| ------- | ------------------------------------------------------------------- |
| `event` | Se carga al ocurrir un evento (abrir archivo, iniciar Neovim, etc.) |
| `cmd`   | Se carga al ejecutar un comando específico                          |
| `ft`    | Se carga solo para ciertos tipos de archivo                         |
| `keys`  | Se carga cuando se presiona cierta tecla                            |

---

## 4️⃣ Instalar dependencias entre plugins

Algunos plugins dependen de otros:

```lua
return {
  {
    "nvim-telescope/telescope.nvim",
    dependencies = { "nvim-lua/plenary.nvim" },
    config = function()
      require("telescope").setup()
    end
  }
}
```

* `dependencies` → lista de plugins que deben instalarse primero.

---

## 5️⃣ Ejecutar comandos al instalar un plugin

Algunos plugins requieren compilación o actualización después de instalar:

```lua
return {
  {
    "nvim-treesitter/nvim-treesitter",
    run = ":TSUpdate"  -- ejecuta comando después de instalar
  }
}
```

---

Si quieres, puedo hacerte **una guía completa de sintaxis y ejemplos para todos los casos posibles** de plugins en Lua con LazyVim: lazy-load por evento, tipo de archivo, tecla, con dependencias, con post-comandos, y configuración modular. Esto te dejaría listo para configurar cualquier plugin sin problemas.

¿Quieres que haga esa guía completa?

